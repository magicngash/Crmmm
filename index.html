<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Tools CRM</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-gray-50">
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect, useContext, createContext } = React;
        
        // Create a context for the app state
        const AppContext = createContext();
        
        // Toast notification component
        const Toast = ({ message, type, onClose }) => {
            useEffect(() => {
                const timer = setTimeout(() => {
                    onClose();
                }, 3000);
                return () => clearTimeout(timer);
            }, [onClose]);
            
            const bgColor = type === 'success' ? 'bg-green-500' : 'bg-red-500';
            
            return (
                <div className={`fixed bottom-4 right-4 ${bgColor} text-white px-4 py-2 rounded-lg shadow-lg z-50 flex items-center`}>
                    <i className={`fas ${type === 'success' ? 'fa-check-circle' : 'fa-exclamation-circle'} mr-2`}></i>
                    {message}
                </div>
            );
        };
        
        // Navigation component
        const Navigation = ({ currentScreen, setCurrentScreen, isAdmin }) => {
            return (
                <nav className="bg-indigo-600 text-white shadow-lg">
                    <div className="container mx-auto px-4">
                        <div className="flex justify-between items-center py-3">
                            <h1 className="text-xl font-bold">AI Tools CRM</h1>
                            <div className="flex space-x-1">
                                <button 
                                    onClick={() => setCurrentScreen('dashboard')} 
                                    className={`px-3 py-2 rounded-md text-sm font-medium ${currentScreen === 'dashboard' ? 'bg-indigo-800' : 'hover:bg-indigo-700'}`}
                                >
                                    <i className="fas fa-home mr-1"></i> Dashboard
                                </button>
                                <button 
                                    onClick={() => setCurrentScreen('tools')} 
                                    className={`px-3 py-2 rounded-md text-sm font-medium ${currentScreen === 'tools' ? 'bg-indigo-800' : 'hover:bg-indigo-700'}`}
                                >
                                    <i className="fas fa-tools mr-1"></i> Tools
                                </button>
                                <button 
                                    onClick={() => setCurrentScreen('updates')} 
                                    className={`px-3 py-2 rounded-md text-sm font-medium ${currentScreen === 'updates' ? 'bg-indigo-800' : 'hover:bg-indigo-700'}`}
                                >
                                    <i className="fas fa-sync-alt mr-1"></i> Updates
                                </button>
                                {isAdmin && (
                                    <button 
                                        onClick={() => setCurrentScreen('admin')} 
                                        className={`px-3 py-2 rounded-md text-sm font-medium ${currentScreen === 'admin' ? 'bg-indigo-800' : 'hover:bg-indigo-700'}`}
                                    >
                                        <i className="fas fa-cog mr-1"></i> Admin
                                    </button>
                                )}
                            </div>
                        </div>
                    </div>
                </nav>
            );
        };
        
        // Dashboard Screen
        const Dashboard = () => {
            const { tools, updates, categories } = useContext(AppContext);
            const setCurrentScreen = useContext(AppContext).setCurrentScreen || (() => {});
            
            // Calculate total tools
            const totalTools = tools.length;
            
            // Calculate recent updates (last 30 days)
            const thirtyDaysAgo = new Date();
            thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);
            const recentUpdates = updates.filter(update => 
                new Date(update.date) >= thirtyDaysAgo
            ).length;
            
            // Tools by category
            const toolsByCategory = categories.map(category => {
                const categoryTools = tools.filter(tool => tool.category === category.id);
                return {
                    ...category,
                    count: categoryTools.length
                };
            });
            
            // Handle category card click
            const handleCategoryClick = (categoryId) => {
                setCurrentScreen('tools');
                // Store the selected category in sessionStorage to be used by ToolsScreen
                sessionStorage.setItem('selectedCategory', categoryId);
            };
            
            // Handle view all updates click
            const handleViewAllUpdates = () => {
                setCurrentScreen('updates');
            };
            
            // Handle view all tools click
            const handleViewAllTools = () => {
                setCurrentScreen('tools');
                sessionStorage.removeItem('selectedCategory');
            };
            
            return (
                <div className="container mx-auto px-4 py-6">
                    <h2 className="text-2xl font-bold text-gray-800 mb-6">Dashboard</h2>
                    
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                        <div className="bg-white rounded-lg shadow p-6 cursor-pointer hover:shadow-md transition-shadow" onClick={handleViewAllTools}>
                            <div className="flex items-center">
                                <div className="p-3 rounded-full bg-indigo-100 text-indigo-600">
                                    <i className="fas fa-tools text-2xl"></i>
                                </div>
                                <div className="ml-4">
                                    <h3 className="text-lg font-medium text-gray-500">Total Tools</h3>
                                    <p className="text-2xl font-bold">{totalTools}</p>
                                </div>
                            </div>
                        </div>
                        
                        <div className="bg-white rounded-lg shadow p-6 cursor-pointer hover:shadow-md transition-shadow" onClick={handleViewAllUpdates}>
                            <div className="flex items-center">
                                <div className="p-3 rounded-full bg-green-100 text-green-600">
                                    <i className="fas fa-sync-alt text-2xl"></i>
                                </div>
                                <div className="ml-4">
                                    <h3 className="text-lg font-medium text-gray-500">Recent Updates</h3>
                                    <p className="text-2xl font-bold">{recentUpdates}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div className="bg-white rounded-lg shadow p-6 mb-8">
                        <div className="flex justify-between items-center mb-4">
                            <h3 className="text-lg font-medium text-gray-800">Tools by Category</h3>
                            <button 
                                onClick={handleViewAllTools}
                                className="text-sm text-indigo-600 hover:text-indigo-800"
                            >
                                View All Tools
                            </button>
                        </div>
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                            {toolsByCategory.map(category => (
                                <div 
                                    key={category.id} 
                                    className="border rounded-lg p-4 text-center cursor-pointer hover:bg-gray-50 transition-colors"
                                    onClick={() => handleCategoryClick(category.id)}
                                >
                                    <div className="text-3xl mb-2">{category.icon}</div>
                                    <h4 className="font-medium">{category.name}</h4>
                                    <p className="text-sm text-gray-500">{category.count} tools</p>
                                </div>
                            ))}
                        </div>
                    </div>
                    
                    <div className="bg-white rounded-lg shadow p-6">
                        <div className="flex justify-between items-center mb-4">
                            <h3 className="text-lg font-medium text-gray-800">Latest Updates</h3>
                            <button 
                                onClick={handleViewAllUpdates}
                                className="text-sm text-indigo-600 hover:text-indigo-800"
                            >
                                View All Updates
                            </button>
                        </div>
                        {updates.length === 0 ? (
                            <p className="text-gray-500">No updates found.</p>
                        ) : (
                            <div className="space-y-4">
                                {updates.slice(0, 5).map(update => {
                                    const tool = tools.find(t => t.id === update.toolId);
                                    return (
                                        <div key={update.id} className="border-b pb-4 last:border-0 last:pb-0 cursor-pointer hover:bg-gray-50 p-2 rounded transition-colors" onClick={() => {
                                            setCurrentScreen('tools');
                                            sessionStorage.setItem('selectedTool', update.toolId);
                                        }}>
                                            <div className="flex justify-between">
                                                <h4 className="font-medium">{update.title}</h4>
                                                <span className="text-sm text-gray-500">{new Date(update.date).toLocaleDateString()}</span>
                                            </div>
                                            <p className="text-sm text-gray-600 mt-1">{update.description}</p>
                                            {tool && (
                                                <div className="mt-2">
                                                    <span className="text-xs bg-indigo-100 text-indigo-800 px-2 py-1 rounded-full">
                                                        {tool.name}
                                                    </span>
                                                </div>
                                            )}
                                        </div>
                                    );
                                })}
                            </div>
                        )}
                    </div>
                </div>
            );
        };
        
        // Tool Card Component
        const ToolCard = ({ tool, onClick }) => {
            const getCategoryIcon = (categoryId) => {
                const icons = {
                    'image': 'üñºÔ∏è',
                    'video': 'üé¨',
                    'voice': 'üé§',
                    'text': 'üìù',
                    'code': 'üíª',
                    'data': 'üìä'
                };
                return icons[categoryId] || 'üîß';
            };
            
            return (
                <div className="bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow cursor-pointer" onClick={() => onClick(tool)}>
                    <div className="flex items-start">
                        <div className="text-3xl mr-3">{getCategoryIcon(tool.category)}</div>
                        <div className="flex-grow">
                            <h3 className="font-medium text-gray-800">{tool.name}</h3>
                            <p className="text-sm text-gray-600 mt-1 line-clamp-2">{tool.description}</p>
                            <div className="mt-2 flex items-center">
                                <span className="text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded-full">
                                    {tool.pricing}
                                </span>
                                {tool.featured && (
                                    <span className="text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full ml-2">
                                        Featured
                                    </span>
                                )}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };
        
        // Tool Details Modal Component
        const ToolDetailsModal = ({ tool, categories, updates, onClose }) => {
            const getCategoryName = (id) => {
                const category = categories.find(c => c.id === id);
                return category ? category.name : 'Unknown';
            };
            
            const getCategoryIcon = (id) => {
                const icons = {
                    'image': 'üñºÔ∏è',
                    'video': 'üé¨',
                    'voice': 'üé§',
                    'text': 'üìù',
                    'code': 'üíª',
                    'data': 'üìä'
                };
                return icons[id] || 'üîß';
            };
            
            // Get updates for this tool
            const toolUpdates = updates.filter(update => update.toolId === tool.id);
            
            // Sort updates by date (newest first)
            const sortedUpdates = [...toolUpdates].sort((a, b) => 
                new Date(b.date) - new Date(a.date)
            );
            
            return (
                <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                    <div className="bg-white rounded-lg shadow-lg w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col">
                        <div className="p-6 border-b">
                            <div className="flex justify-between items-start">
                                <div>
                                    <h3 className="text-2xl font-bold text-gray-800">{tool.name}</h3>
                                    <p className="text-gray-600 mt-1">{getCategoryName(tool.category)}</p>
                                </div>
                                <button
                                    onClick={onClose}
                                    className="text-gray-500 hover:text-gray-700"
                                >
                                    <i className="fas fa-times text-xl"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div className="flex-grow overflow-y-auto">
                            {/* Hero Section */}
                            <div className="p-6 bg-gradient-to-r from-indigo-50 to-blue-50 border-b">
                                <div className="flex flex-col md:flex-row gap-6">
                                    <div className="flex-shrink-0">
                                        <div className="w-24 h-24 bg-white rounded-lg shadow-md flex items-center justify-center text-4xl">
                                            {getCategoryIcon(tool.category)}
                                        </div>
                                    </div>
                                    <div className="flex-grow">
                                        <div className="flex flex-wrap gap-2 mb-3">
                                            <span className="px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm font-medium">
                                                {tool.pricing}
                                            </span>
                                            {tool.featured && (
                                                <span className="px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm font-medium">
                                                    Featured
                                                </span>
                                            )}
                                        </div>
                                        <p className="text-gray-700">{tool.description}</p>
                                        {tool.website && (
                                            <a 
                                                href={tool.website} 
                                                target="_blank" 
                                                rel="noopener noreferrer"
                                                className="inline-flex items-center mt-3 text-indigo-600 hover:text-indigo-800"
                                            >
                                                Visit Website <i className="fas fa-external-link-alt ml-1 text-sm"></i>
                                            </a>
                                        )}
                                    </div>
                                </div>
                            </div>
                            
                            {/* Key Features Section */}
                            <div className="p-6 border-b">
                                <h4 className="text-lg font-medium text-gray-800 mb-4">Key Features</h4>
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    {tool.features.map((feature, index) => (
                                        <div key={index} className="flex items-start">
                                            <div className="flex-shrink-0 mt-1 mr-3 text-indigo-600">
                                                <i className="fas fa-check-circle"></i>
                                            </div>
                                            <p className="text-gray-600">{feature}</p>
                                        </div>
                                    ))}
                                </div>
                            </div>
                            
                            {/* Updates Section */}
                            <div className="p-6">
                                <h4 className="text-lg font-medium text-gray-800 mb-4">Recent Updates</h4>
                                {sortedUpdates.length === 0 ? (
                                    <p className="text-gray-500">No recent updates for this tool.</p>
                                ) : (
                                    <div className="space-y-4">
                                        {sortedUpdates.map(update => (
                                            <div key={update.id} className="border-l-4 border-indigo-500 pl-4 py-2 bg-gray-50 rounded-r">
                                                <div className="flex justify-between items-center">
                                                    <h5 className="font-medium text-gray-800">{update.title}</h5>
                                                    <div className="flex items-center text-sm text-gray-500">
                                                        <span>{new Date(update.date).toLocaleDateString()}</span>
                                                        <span className="mx-2">‚Ä¢</span>
                                                        <span className="px-2 py-0.5 bg-gray-200 rounded-full text-xs">
                                                            {update.type}
                                                        </span>
                                                    </div>
                                                </div>
                                                <p className="text-gray-600 mt-1">{update.description}</p>
                                            </div>
                                        ))}
                                    </div>
                                )}
                            </div>
                        </div>
                        
                        <div className="p-4 bg-gray-50 border-t flex justify-end">
                            <button
                                onClick={onClose}
                                className="px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700"
                            >
                                Close
                            </button>
                        </div>
                    </div>
                </div>
            );
        };
        
        // Tools Screen
        const ToolsScreen = () => {
            const { tools, categories, updates } = useContext(AppContext);
            const [selectedCategory, setSelectedCategory] = useState('all');
            const [searchTerm, setSearchTerm] = useState('');
            const [selectedTool, setSelectedTool] = useState(null);
            
            // Check if there's a specific tool to view from sessionStorage
            useEffect(() => {
                const selectedToolId = sessionStorage.getItem('selectedTool');
                if (selectedToolId) {
                    const tool = tools.find(t => t.id === selectedToolId);
                    if (tool) {
                        setSelectedTool(tool);
                        sessionStorage.removeItem('selectedTool');
                    }
                }
            }, [tools]);
            
            // Check if there's a selected category from sessionStorage
            useEffect(() => {
                const savedCategory = sessionStorage.getItem('selectedCategory');
                if (savedCategory && savedCategory !== 'all') {
                    setSelectedCategory(savedCategory);
                    sessionStorage.removeItem('selectedCategory');
                }
            }, []);
            
            // Get unique categories for filter
            const filterCategories = [
                { id: 'all', name: 'All Categories' },
                ...categories
            ];
            
            // Filter tools based on search and category
            const filteredTools = tools.filter(tool => {
                const matchesSearch = tool.name.toLowerCase().includes(searchTerm.toLowerCase()) || 
                                    tool.description.toLowerCase().includes(searchTerm.toLowerCase());
                const matchesCategory = selectedCategory === 'all' || tool.category === selectedCategory;
                
                return matchesSearch && matchesCategory;
            });
            
            // Handle tool click
            const handleToolClick = (tool) => {
                setSelectedTool(tool);
            };
            
            // Close modal
            const closeModal = () => {
                setSelectedTool(null);
            };
            
            return (
                <div className="container mx-auto px-4 py-6">
                    <div className="flex justify-between items-center mb-6">
                        <h2 className="text-2xl font-bold text-gray-800">AI Tools</h2>
                    </div>
                    
                    {/* Filters */}
                    <div className="bg-white rounded-lg shadow p-4 mb-6">
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-1">Search</label>
                                <input
                                    type="text"
                                    placeholder="Search tools by name or description..."
                                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                    value={searchTerm}
                                    onChange={(e) => setSearchTerm(e.target.value)}
                                />
                            </div>
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-1">Category</label>
                                <select
                                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                    value={selectedCategory}
                                    onChange={(e) => setSelectedCategory(e.target.value)}
                                >
                                    {filterCategories.map(category => (
                                        <option key={category.id} value={category.id}>{category.name}</option>
                                    ))}
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    {/* Tools List */}
                    {filteredTools.length === 0 ? (
                        <div className="bg-white rounded-lg shadow p-6 text-center">
                            <p className="text-gray-500">No tools found matching your criteria.</p>
                        </div>
                    ) : (
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                            {filteredTools.map(tool => (
                                <ToolCard 
                                    key={tool.id} 
                                    tool={tool} 
                                    onClick={handleToolClick}
                                />
                            ))}
                        </div>
                    )}
                    
                    {/* Tool Details Modal */}
                    {selectedTool && (
                        <ToolDetailsModal 
                            tool={selectedTool} 
                            categories={categories}
                            updates={updates}
                            onClose={closeModal}
                        />
                    )}
                </div>
            );
        };
        
        // Updates Screen
        const UpdatesScreen = () => {
            const { updates, tools } = useContext(AppContext);
            
            // Get tool name by ID
            const getToolName = (id) => {
                const tool = tools.find(t => t.id === id);
                return tool ? tool.name : 'Unknown Tool';
            };
            
            // Sort updates by date (newest first)
            const sortedUpdates = [...updates].sort((a, b) => 
                new Date(b.date) - new Date(a.date)
            );
            
            return (
                <div className="container mx-auto px-4 py-6">
                    <h2 className="text-2xl font-bold text-gray-800 mb-6">Tool Updates</h2>
                    
                    <div className="bg-white rounded-lg shadow overflow-hidden">
                        {sortedUpdates.length === 0 ? (
                            <div className="p-6 text-center">
                                <p className="text-gray-500">No updates found.</p>
                            </div>
                        ) : (
                            <div className="divide-y divide-gray-200">
                                {sortedUpdates.map(update => (
                                    <div key={update.id} className="p-6">
                                        <div className="flex justify-between items-start">
                                            <div>
                                                <h3 className="text-lg font-medium text-gray-800">{update.title}</h3>
                                                <div className="flex items-center mt-1 text-sm text-gray-500">
                                                    <span>{getToolName(update.toolId)}</span>
                                                    <span className="mx-2">‚Ä¢</span>
                                                    <span>{new Date(update.date).toLocaleDateString()}</span>
                                                </div>
                                            </div>
                                            <span className="text-xs bg-indigo-100 text-indigo-800 px-2 py-1 rounded-full">
                                                {update.type}
                                            </span>
                                        </div>
                                        <p className="mt-3 text-gray-600">{update.description}</p>
                                    </div>
                                ))}
                            </div>
                        )}
                    </div>
                </div>
            );
        };
        
        // Admin Screen
        const AdminScreen = () => {
            const { tools, addTool, deleteTool, updates, addUpdate, categories } = useContext(AppContext);
            const [showToolForm, setShowToolForm] = useState(false);
            const [showUpdateForm, setShowUpdateForm] = useState(false);
            const [editingTool, setEditingTool] = useState(null);
            
            // Tool form state
            const [toolFormData, setToolFormData] = useState({
                name: '',
                description: '',
                category: 'text',
                pricing: 'Free',
                website: '',
                featured: false,
                features: ['', '', '']
            });
            
            // Update form state
            const [updateFormData, setUpdateFormData] = useState({
                toolId: '',
                title: '',
                description: '',
                type: 'Improvement',
                date: new Date().toISOString().split('T')[0]
            });
            
            // Handle tool form input changes
            const handleToolInputChange = (e) => {
                const { name, value, type, checked } = e.target;
                if (name === 'features') {
                    // Handle features array
                    const features = [...toolFormData.features];
                    features[parseInt(e.target.dataset.index)] = e.target.value;
                    setToolFormData(prev => ({ ...prev, features }));
                } else {
                    setToolFormData(prev => ({ 
                        ...prev, 
                        [name]: type === 'checkbox' ? checked : value 
                    }));
                }
            };
            
            // Handle update form input changes
            const handleUpdateInputChange = (e) => {
                const { name, value } = e.target;
                setUpdateFormData(prev => ({ ...prev, [name]: value }));
            };
            
            // Handle tool form submission
            const handleToolSubmit = (e) => {
                e.preventDefault();
                
                // Filter out empty features
                const features = toolFormData.features.filter(feature => feature.trim() !== '');
                
                if (editingTool) {
                    // In a real app, we would have an update function
                    // For now, we'll just show a success message
                    alert('Tool updated successfully!');
                } else {
                    addTool({
                        ...toolFormData,
                        features
                    });
                }
                resetToolForm();
            };
            
            // Handle update form submission
            const handleUpdateSubmit = (e) => {
                e.preventDefault();
                addUpdate(updateFormData);
                resetUpdateForm();
            };
            
            // Reset tool form
            const resetToolForm = () => {
                setToolFormData({
                    name: '',
                    description: '',
                    category: 'text',
                    pricing: 'Free',
                    website: '',
                    featured: false,
                    features: ['', '', '']
                });
                setEditingTool(null);
                setShowToolForm(false);
            };
            
            // Reset update form
            const resetUpdateForm = () => {
                setUpdateFormData({
                    toolId: '',
                    title: '',
                    description: '',
                    type: 'Improvement',
                    date: new Date().toISOString().split('T')[0]
                });
                setShowUpdateForm(false);
            };
            
            // Edit tool
            const handleEditTool = (tool) => {
                // Pad features array to ensure we have 3 items
                const features = [...tool.features];
                while (features.length < 3) {
                    features.push('');
                }
                
                setToolFormData({
                    ...tool,
                    features
                });
                setEditingTool(tool);
                setShowToolForm(true);
            };
            
            return (
                <div className="container mx-auto px-4 py-6">
                    <h2 className="text-2xl font-bold text-gray-800 mb-6">Admin Panel</h2>
                    
                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        {/* Tools Management */}
                        <div className="bg-white rounded-lg shadow p-6">
                            <div className="flex justify-between items-center mb-4">
                                <h3 className="text-lg font-medium text-gray-800">Tools Management</h3>
                                <button 
                                    onClick={() => setShowToolForm(true)}
                                    className="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 flex items-center text-sm"
                                >
                                    <i className="fas fa-plus mr-2"></i> Add Tool
                                </button>
                            </div>
                            
                            <div className="overflow-x-auto">
                                <table className="min-w-full divide-y divide-gray-200">
                                    <thead className="bg-gray-50">
                                        <tr>
                                            <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th>
                                            <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Category</th>
                                            <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody className="bg-white divide-y divide-gray-200">
                                        {tools.map(tool => (
                                            <tr key={tool.id}>
                                                <td className="px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900">
                                                    {tool.name}
                                                </td>
                                                <td className="px-4 py-3 whitespace-nowrap text-sm text-gray-500">
                                                    {categories.find(c => c.id === tool.category)?.name || 'Unknown'}
                                                </td>
                                                <td className="px-4 py-3 whitespace-nowrap text-sm text-gray-500">
                                                    <button 
                                                        onClick={() => handleEditTool(tool)}
                                                        className="text-blue-600 hover:text-blue-800 mr-3"
                                                        title="Edit"
                                                    >
                                                        <i className="fas fa-edit"></i>
                                                    </button>
                                                    <button 
                                                        onClick={() => deleteTool(tool.id)}
                                                        className="text-red-600 hover:text-red-800"
                                                        title="Delete"
                                                    >
                                                        <i className="fas fa-trash"></i>
                                                    </button>
                                                </td>
                                            </tr>
                                        ))}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                        {/* Updates Management */}
                        <div className="bg-white rounded-lg shadow p-6">
                            <div className="flex justify-between items-center mb-4">
                                <h3 className="text-lg font-medium text-gray-800">Updates Management</h3>
                                <button 
                                    onClick={() => setShowUpdateForm(true)}
                                    className="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 flex items-center text-sm"
                                >
                                    <i className="fas fa-plus mr-2"></i> Add Update
                                </button>
                            </div>
                            
                            <div className="overflow-x-auto">
                                <table className="min-w-full divide-y divide-gray-200">
                                    <thead className="bg-gray-50">
                                        <tr>
                                            <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Title</th>
                                            <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tool</th>
                                            <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th>
                                        </tr>
                                    </thead>
                                    <tbody className="bg-white divide-y divide-gray-200">
                                        {updates.slice(0, 5).map(update => {
                                            const tool = tools.find(t => t.id === update.toolId);
                                            return (
                                                <tr key={update.id}>
                                                    <td className="px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900">
                                                        {update.title}
                                                    </td>
                                                    <td className="px-4 py-3 whitespace-nowrap text-sm text-gray-500">
                                                        {tool ? tool.name : 'Unknown'}
                                                    </td>
                                                    <td className="px-4 py-3 whitespace-nowrap text-sm text-gray-500">
                                                        {new Date(update.date).toLocaleDateString()}
                                                    </td>
                                                </tr>
                                            );
                                        })}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    
                    {/* Add/Edit Tool Modal */}
                    {showToolForm && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                            <div className="bg-white rounded-lg shadow-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto">
                                <div className="p-6">
                                    <h3 className="text-lg font-medium text-gray-800 mb-4">
                                        {editingTool ? 'Edit Tool' : 'Add New Tool'}
                                    </h3>
                                    <form onSubmit={handleToolSubmit}>
                                        <div className="space-y-4">
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Name *</label>
                                                <input
                                                    type="text"
                                                    name="name"
                                                    required
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                    value={toolFormData.name}
                                                    onChange={handleToolInputChange}
                                                />
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Description *</label>
                                                <textarea
                                                    name="description"
                                                    required
                                                    rows="3"
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                    value={toolFormData.description}
                                                    onChange={handleToolInputChange}
                                                ></textarea>
                                            </div>
                                            <div className="grid grid-cols-2 gap-4">
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">Category *</label>
                                                    <select
                                                        name="category"
                                                        required
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                        value={toolFormData.category}
                                                        onChange={handleToolInputChange}
                                                    >
                                                        {categories.map(category => (
                                                            <option key={category.id} value={category.id}>
                                                                {category.name}
                                                            </option>
                                                        ))}
                                                    </select>
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">Pricing *</label>
                                                    <select
                                                        name="pricing"
                                                        required
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                        value={toolFormData.pricing}
                                                        onChange={handleToolInputChange}
                                                    >
                                                        <option value="Free">Free</option>
                                                        <option value="Freemium">Freemium</option>
                                                        <option value="Paid">Paid</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Website</label>
                                                <input
                                                    type="url"
                                                    name="website"
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                    value={toolFormData.website}
                                                    onChange={handleToolInputChange}
                                                />
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Key Features</label>
                                                {toolFormData.features.map((feature, index) => (
                                                    <input
                                                        key={index}
                                                        type="text"
                                                        name="features"
                                                        value={feature}
                                                        onChange={handleToolInputChange}
                                                        data-index={index}
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-md mb-2"
                                                        placeholder={`Feature ${index + 1}`}
                                                    />
                                                ))}
                                            </div>
                                            <div className="flex items-center">
                                                <input
                                                    type="checkbox"
                                                    name="featured"
                                                    className="h-4 w-4 text-indigo-600 rounded"
                                                    checked={toolFormData.featured}
                                                    onChange={handleToolInputChange}
                                                />
                                                <label className="ml-2 block text-sm text-gray-700">
                                                    Featured Tool
                                                </label>
                                            </div>
                                        </div>
                                        <div className="flex justify-end space-x-3 mt-6">
                                            <button
                                                type="button"
                                                className="px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"
                                                onClick={resetToolForm}
                                            >
                                                Cancel
                                            </button>
                                            <button
                                                type="submit"
                                                className="px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700"
                                            >
                                                {editingTool ? 'Update' : 'Add'} Tool
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    )}
                    
                    {/* Add Update Modal */}
                    {showUpdateForm && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                            <div className="bg-white rounded-lg shadow-lg w-full max-w-md">
                                <div className="p-6">
                                    <h3 className="text-lg font-medium text-gray-800 mb-4">Add New Update</h3>
                                    <form onSubmit={handleUpdateSubmit}>
                                        <div className="space-y-4">
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Tool *</label>
                                                <select
                                                    name="toolId"
                                                    required
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                    value={updateFormData.toolId}
                                                    onChange={handleUpdateInputChange}
                                                >
                                                    <option value="">Select a tool</option>
                                                    {tools.map(tool => (
                                                        <option key={tool.id} value={tool.id}>
                                                            {tool.name}
                                                        </option>
                                                    ))}
                                                </select>
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Title *</label>
                                                <input
                                                    type="text"
                                                    name="title"
                                                    required
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                    value={updateFormData.title}
                                                    onChange={handleUpdateInputChange}
                                                />
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-1">Description *</label>
                                                <textarea
                                                    name="description"
                                                    required
                                                    rows="3"
                                                    className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                    value={updateFormData.description}
                                                    onChange={handleUpdateInputChange}
                                                ></textarea>
                                            </div>
                                            <div className="grid grid-cols-2 gap-4">
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">Type</label>
                                                    <select
                                                        name="type"
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                        value={updateFormData.type}
                                                        onChange={handleUpdateInputChange}
                                                    >
                                                        <option value="New Feature">New Feature</option>
                                                        <option value="Improvement">Improvement</option>
                                                        <option value="Bug Fix">Bug Fix</option>
                                                    </select>
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-medium text-gray-700 mb-1">Date</label>
                                                    <input
                                                        type="date"
                                                        name="date"
                                                        className="w-full px-3 py-2 border border-gray-300 rounded-md"
                                                        value={updateFormData.date}
                                                        onChange={handleUpdateInputChange}
                                                    />
                                                </div>
                                            </div>
                                        </div>
                                        <div className="flex justify-end space-x-3 mt-6">
                                            <button
                                                type="button"
                                                className="px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"
                                                onClick={resetUpdateForm}
                                            >
                                                Cancel
                                            </button>
                                            <button
                                                type="submit"
                                                className="px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700"
                                            >
                                                Add Update
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };
        
        // Main App Component
        const App = () => {
            const [currentScreen, setCurrentScreen] = useState('dashboard');
            const [toast, setToast] = useState(null);
            const [isAdmin, setIsAdmin] = useState(true); // Default to admin for now
            
            // Initialize state from localStorage or with defaults
            const [categories, setCategories] = useState(() => {
                const savedCategories = localStorage.getItem('aiToolCategories');
                if (savedCategories) {
                    return JSON.parse(savedCategories);
                }
                
                // Default categories
                return [
                    { id: 'image', name: 'Image Generation', icon: 'üñºÔ∏è' },
                    { id: 'video', name: 'Video Generation', icon: 'üé¨' },
                    { id: 'voice', name: 'Voice Generation', icon: 'üé§' },
                    { id: 'text', name: 'Text Generation', icon: 'üìù' },
                    { id: 'code', name: 'Code Generation', icon: 'üíª' },
                    { id: 'data', name: 'Data Analysis', icon: 'üìä' }
                ];
            });
            
            const [tools, setTools] = useState(() => {
                const savedTools = localStorage.getItem('aiTools');
                if (savedTools) {
                    return JSON.parse(savedTools);
                }
                
                // Add fake data if no saved data exists
                return [
                    {
                        id: '1',
                        name: 'Midjourney',
                        description: 'AI-powered image generation tool that creates stunning artwork from text prompts. Known for its artistic style and high-quality outputs.',
                        category: 'image',
                        pricing: 'Paid',
                        website: 'https://www.midjourney.com',
                        featured: true,
                        features: [
                            'High-quality artistic image generation',
                            'Style customization and fine-tuning',
                            'Community gallery and inspiration'
                        ]
                    },
                    {
                        id: '2',
                        name: 'DALL-E 3',
                        description: 'OpenAI\'s advanced image generation model that creates detailed images from text descriptions with improved understanding and accuracy.',
                        category: 'image',
                        pricing: 'Paid',
                        website: 'https://openai.com/dall-e-3',
                        featured: true,
                        features: [
                            'Precise text-to-image generation',
                            'Integration with ChatGPT',
                            'Safety filters and content guidelines'
                        ]
                    },
                    {
                        id: '3',
                        name: 'Stable Diffusion',
                        description: 'Open-source image generation model that can be run locally. Offers flexibility and customization for developers and artists.',
                        category: 'image',
                        pricing: 'Free',
                        website: 'https://stability.ai',
                        featured: false,
                        features: [
                            'Open-source and customizable',
                            'Local deployment options',
                            'Large community and model variants'
                        ]
                    },
                    {
                        id: '4',
                        name: 'Runway ML',
                        description: 'Creative suite for video generation and editing with AI tools. Generate videos from text, images, or existing video clips.',
                        category: 'video',
                        pricing: 'Freemium',
                        website: 'https://runwayml.com',
                        featured: true,
                        features: [
                            'Text-to-video generation',
                            'Video editing with AI tools',
                            'Motion brush and camera controls'
                        ]
                    },
                    {
                        id: '5',
                        name: 'Synthesia',
                        description: 'AI video generation platform that creates professional videos with AI avatars. Ideal for training videos and presentations.',
                        category: 'video',
                        pricing: 'Paid',
                        website: 'https://www.synthesia.io',
                        featured: false,
                        features: [
                            'AI avatar video generation',
                            'Multi-language support',
                            'Template library for quick creation'
                        ]
                    },
                    {
                        id: '6',
                        name: 'ElevenLabs',
                        description: 'Voice synthesis platform that creates realistic AI voices with emotion and intonation. Supports multiple languages and voice cloning.',
                        category: 'voice',
                        pricing: 'Freemium',
                        website: 'https://elevenlabs.io',
                        featured: true,
                        features: [
                            'Realistic voice synthesis',
                            'Voice cloning capabilities',
                            'Emotion and intonation control'
                        ]
                    },
                    {
                        id: '7',
                        name: 'Descript',
                        description: 'Audio and video editing tool that uses AI to transcribe, edit, and enhance media. Edit media by editing text transcripts.',
                        category: 'voice',
                        pricing: 'Freemium',
                        website: 'https://www.descript.com',
                        featured: false,
                        features: [
                            'Text-based audio/video editing',
                            'Overdub voice cloning',
                            'Automatic transcription and subtitles'
                        ]
                    },
                    {
                        id: '8',
                        name: 'ChatGPT',
                        description: 'Advanced language model by OpenAI that can generate human-like text responses to prompts and questions.',
                        category: 'text',
                        pricing: 'Freemium',
                        website: 'https://chat.openai.com',
                        featured: true,
                        features: [
                            'Conversational AI capabilities',
                            'Code generation and debugging',
                            'Content creation and summarization'
                        ]
                    },
                    {
                        id: '9',
                        name: 'Claude',
                        description: 'AI assistant created by Anthropic that excels at analysis, writing, and complex reasoning tasks with a focus on safety.',
                        category: 'text',
                        pricing: 'Freemium',
                        website: 'https://claude.ai',
                        featured: true,
                        features: [
                            'Large context window for long documents',
                            'Advanced reasoning and analysis',
                            'Constitutional AI safety approach'
                        ]
                    },
                    {
                        id: '10',
                        name: 'GitHub Copilot',
                        description: 'AI-powered code completion tool that helps developers write code faster and with fewer errors.',
                        category: 'code',
                        pricing: 'Paid',
                        website: 'https://github.com/features/copilot',
                        featured: true,
                        features: [
                            'Real-time code suggestions',
                            'Multi-language support',
                            'Natural language to code conversion'
                        ]
                    },
                    {
                        id: '11',
                        name: 'Replit Ghostwriter',
                        description: 'AI pair programmer that helps you code faster with complete code generation, transformation, and debugging.',
                        category: 'code',
                        pricing: 'Freemium',
                        website: 'https://replit.com/site/ghostwriter',
                        featured: false,
                        features: [
                            'Code completion and generation',
                            'Explain and debug code',
                            'Transform code between languages'
                        ]
                    },
                    {
                        id: '12',
                        name: 'Tableau',
                        description: 'Data visualization and business intelligence platform with AI-powered analytics and insights.',
                        category: 'data',
                        pricing: 'Paid',
                        website: 'https://www.tableau.com',
                        featured: true,
                        features: [
                            'Interactive data visualization',
                            'AI-powered analytics and predictions',
                            'Dashboard creation and sharing'
                        ]
                    }
                ];
            });
            
            const [updates, setUpdates] = useState(() => {
                const savedUpdates = localStorage.getItem('aiToolUpdates');
                if (savedUpdates) {
                    return JSON.parse(savedUpdates);
                }
                
                // Add fake data if no saved data exists
                return [
                    {
                        id: '1',
                        toolId: '1',
                        title: 'New Style Parameters',
                        description: 'Added 15 new style parameters for more precise control over image generation aesthetics.',
                        type: 'New Feature',
                        date: '2023-10-15'
                    },
                    {
                        id: '2',
                        toolId: '2',
                        title: 'Higher Resolution Support',
                        description: 'DALL-E 3 now supports generation of images at higher resolutions with improved detail quality.',
                        type: 'Improvement',
                        date: '2023-10-10'
                    },
                    {
                        id: '3',
                        toolId: '4',
                        description: 'Fixed an issue with video export that was causing frame drops in high-resolution outputs.',
                        type: 'Bug Fix',
                        date: '2023-10-05'
                    },
                    {
                        id: '4',
                        toolId: '6',
                        title: 'New Languages Supported',
                        description: 'Added support for 5 new languages including Portuguese, Dutch, and Swedish.',
                        type: 'New Feature',
                        date: '2023-10-01'
                    },
                    {
                        id: '5',
                        toolId: '8',
                        title: 'GPT-4 Turbo Integration',
                        description: 'Integrated the new GPT-4 Turbo model with knowledge up to April 2023 and improved instruction following.',
                        type: 'Improvement',
                        date: '2023-11-06'
                    }
                ];
            });
            
            // Save data to localStorage whenever it changes
            useEffect(() => {
                localStorage.setItem('aiToolCategories', JSON.stringify(categories));
            }, [categories]);
            
            useEffect(() => {
                localStorage.setItem('aiTools', JSON.stringify(tools));
            }, [tools]);
            
            useEffect(() => {
                localStorage.setItem('aiToolUpdates', JSON.stringify(updates));
            }, [updates]);
            
            // Function to add a new tool
            const addTool = (tool) => {
                const newTool = {
                    ...tool,
                    id: Date.now().toString()
                };
                setTools(prev => [...prev, newTool]);
                showToast('Tool added successfully!', 'success');
            };
            
            // Function to delete a tool
            const deleteTool = (id) => {
                if (window.confirm('Are you sure you want to delete this tool?')) {
                    setTools(prev => prev.filter(tool => tool.id !== id));
                    // Also delete related updates
                    setUpdates(prev => prev.filter(update => update.toolId !== id));
                    showToast('Tool deleted successfully!', 'success');
                }
            };
            
            // Function to add a new update
            const addUpdate = (update) => {
                const newUpdate = {
                    ...update,
                    id: Date.now().toString()
                };
                setUpdates(prev => [...prev, newUpdate]);
                showToast('Update added successfully!', 'success');
            };
            
            // Function to show toast notification
            const showToast = (message, type = 'success') => {
                setToast({ message, type });
            };
            
            // Function to close toast
            const closeToast = () => {
                setToast(null);
            };
            
            // Context value
            const contextValue = {
                currentScreen,
                setCurrentScreen,
                categories,
                tools,
                updates,
                addTool,
                deleteTool,
                addUpdate,
                isAdmin,
                setIsAdmin
            };
            
            // Render current screen
            const renderScreen = () => {
                switch (currentScreen) {
                    case 'dashboard':
                        return <Dashboard />;
                    case 'tools':
                        return <ToolsScreen />;
                    case 'updates':
                        return <UpdatesScreen />;
                    case 'admin':
                        return <AdminScreen />;
                    default:
                        return <Dashboard />;
                }
            };
            
            return (
                <AppContext.Provider value={contextValue}>
                    <div className="min-h-screen flex flex-col">
                        <Navigation 
                            currentScreen={currentScreen} 
                            setCurrentScreen={setCurrentScreen} 
                            isAdmin={isAdmin} 
                        />
                        <main className="flex-grow">
                            {renderScreen()}
                        </main>
                        {toast && (
                            <Toast 
                                message={toast.message} 
                                type={toast.type} 
                                onClose={closeToast} 
                            />
                        )}
                    </div>
                </AppContext.Provider>
            );
        };
        
        // Render the app
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>